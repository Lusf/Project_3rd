<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="foodMapper">

	<sql id="restaurentColumn">
		<!-- RESTAURANT_NAME ADDRESS CATEGORY content_CODE restaurantName addr 
			category contentCode -->
		content_code,restaurant_name,restaurant_address,category,restaurant_info,restaurant_pic,id
	</sql>

<resultMap type="kosta.web.model.vo.restaurant.RestaurentVo" id="restaurentSelectMap">
		<id column="content_CODE" property="contentCode" />
		<result column="RESTAURANT_NAME" property="restaurantName" />
		<result column="restaurant_address" property="restaurantAddr" />
		<result column="CATEGORY" property="category" />
		<result column="restaurant_info" property="restaurantInfo" />
		<result column="restaurant_pic" property="restaurantPic" />
		</resultMap> 
<!-- content_code varchar2(30) constraint content_code_ri_pk primary key,
  restaurant_name varchar2(30),
  restaurant_address varchar2(50),
  category varchar2(50),
  restaurant_info varchar2(2000),
  restaurant_pic varchar2(50),
  id constraint id_restaurant_info_fk references usertable(id) -->
	


	<!-- 맛집정보 등록하기 -->
	<insert id="insertRestaurant" parameterType="kosta.web.model.vo.restaurant.RestaurentVo">
		insert into Restaurant
		(content_code,restaurant_name,restaurant_address,category,restaurant_info,restaurant_pic,id)
		values (#{contentCode},#{restaurantName}, #{restaurantAddr}, #{category}, #{restaurantInfo},#{restaurantPic},#{id})
	</insert>

	<!-- 맛집정보 확인하기 -->
	<select id="selectByRestaurant" parameterType="RestaurentVo"	resultMap="restaurentSelectMap">
		select 	CONTENT_CODE , RESTAURANT_NAME , RESTAURANT_ADDRESS , CATEGORY, RESTAURANT_INFO, RESTAURANT_PIC , ID
		from Restaurant
<!-- 		<where>
				RESTAURANT_NAME =#{restaurantName}
				RESTAURANT_ADDRESS
				RESTAURANT_INFO
				CONTENT_CODE = #{_parameter}
			
		</where> -->
	</select>
	
	
	<!-- content_CODE, RESTAURANT_NAME, ADDRESS, CATEGORY,id -->
	<!-- 맛집 수정하기 -->
	<update id="updateRestaurant" >
	update Restaurant
		   set RESTAURANT_NAME = ${restaurantName},
		   		 RESTAURANT_ADDRESS = ${restaurantAddr},
		   		 CATEGORY = ${category},
		   		 Restaurant_INFO = ${restaurantInfo},
		   		 restaurant_pic = ${restaurantPic}
	 where content_CODE=${contentCode}
	</update>
	
	
	<!-- 맛집 삭제하기-->
	<delete id="deleteRestaurant" parameterType="String">
		delete Restaurant_INFO where content_CODE=#{_parameter}
	</delete>
	
	
	
	
</mapper>

