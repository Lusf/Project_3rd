<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="foodMapper">

	<sql id="restaurentColumn">
		<!-- RESTAURANT_NAME ADDRESS CATEGORY content_CODE restaurantName addr 
			category contentCode -->
		content_CODE, RESTAURANT_NAME, ADDRESS, CATEGORY, restaurant_pic,id
	</sql>

<!-- 	<resultMap type="kosta.web.model.vo.restaurant.RestaurentVo" id="restaurentSelectMap">
		<id column="content_CODE" property="contentCode" />
		<result column="RESTAURANT_NAME" property="restaurantName" />
		<result column="ADDRESS" property="addr" />
		<result column="CATEGORY" property="category" />

	</resultMap> -->


	<!-- 맛집정보 등록하기 -->
	<insert id="restaurantInsert" parameterType="restaurentVo">
		insert into Restaurant_INFO(
		<include refid="restaurentColumn" />
		)
		values (#{restaurantName}, #{addr}, #{category}, #{contentCode},#{pic},#{id})
	</insert>

	<!-- 맛집정보 확인하기 -->
	<select id="selectByRestaurant" parameterType="String"
		resultType="kosta.web.model.vo.restaurant.RestaurentVo">
		select 	content_CODE as contentCode, RESTAURANT_NAME as restaurantName, ADDRESS as addr, CATEGORY,  restaurant_pic as pic, id
		from Restaurant_INFO
		<where>
			<if test="_parameter!=null">
				content_CODE=#{_parameter}
			</if>
		</where>
	</select>
	
	
	<!-- content_CODE, RESTAURANT_NAME, ADDRESS, CATEGORY,id -->
	<!-- 맛집 수정하기 -->
	<update id="updateRestaurant" >
	update Restaurant_INFO
		   set RESTAURANT_NAME = ${restaurantName},
		   		 ADDRESS = ${addr},
		   		 CATEGORY = ${category},
		   		 restaurant_pic = ${pic}
	 where content_CODE=${contentCode}
	</update>
	
	
	<!-- 맛집 삭제하기-->
	<delete id="deleteRestaurant" parameterType="String">
		delete Restaurant_INFO where content_CODE=#{_parameter}
	</delete>
	
	
	
	
</mapper>

